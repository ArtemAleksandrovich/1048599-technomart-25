var linkFeedback=document.querySelector(".feedback"),popupFeedback=document.querySelector(".modal-feedback"),closeFeedback=popupFeedback.querySelector(".modal-close"),formFeedback=popupFeedback.querySelector(".feedback-form"),nameFeedback=popupFeedback.querySelector(".feedback-name"),mailFeedback=popupFeedback.querySelector(".feedback-mail"),bodyFeedback=popupFeedback.querySelector(".feedback-body"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("mail")}catch(e){isStorageSupport=!1}linkFeedback.addEventListener("click",function(e){e.preventDefault(),popupFeedback.classList.add("modal-show"),nameFeedback.focus(),storage&&(mailFeedback.value=storage)}),closeFeedback.addEventListener("click",function(e){e.preventDefault(),popupFeedback.classList.remove("modal-show"),popupFeedback.classList.remove("modal-error")}),formFeedback.addEventListener("submit",function(e){mailFeedback.value&&bodyFeedback.value?isStorageSupport&&localStorage.setItem("mail",mailFeedback.value):(e.preventDefault(),popupFeedback.classList.remove("modal-error"),popupFeedback.offsetWidth=popupFeedback.offsetWidth,popupFeedback.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popupFeedback.classList.contains("modal-show")&&(popupFeedback.classList.remove("modal-show"),popupFeedback.classList.remove("modal-error")))});var linkMap=document.querySelector(".map"),popupMap=document.querySelector(".modal-map"),closeMap=popupMap.querySelector(".modal-close");linkMap.addEventListener("click",function(e){e.preventDefault(),popupMap.classList.add("modal-show-map")}),closeMap.addEventListener("click",function(e){e.preventDefault(),popupMap.classList.remove("modal-show-map")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popupMap.classList.contains("modal-show-map")&&popupMap.classList.remove("modal-show-map"))});